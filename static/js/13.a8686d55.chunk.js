(this["webpackJsonptnp-nsut"]=this["webpackJsonptnp-nsut"]||[]).push([[13],{309:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{let t=new Date(e);return t.setHours(t.getHours()),t.setMinutes(t.getMinutes()),t}},310:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(52);async function l(e){const t=new FormData;return t.append("files",e),await n.b.post("/upload",t)}async function r(e,t){if(!e)return;const a=await l(e);return await n.b.put("/students/resume",{uploadId:a.data[0]._id,index:t})}async function c(e){if(e)return await n.b.put("/students/resume/".concat(e))}},333:function(e,t,a){e.exports={outerdiv:"Companydetails_outerdiv__3K0H1",companybar:"Companydetails_companybar__23Sj-",wrapper:"Companydetails_wrapper__z9mdp",contentdiv:"Companydetails_contentdiv__1tnFf",resumediv:"Companydetails_resumediv__2HLKP",hero:"Companydetails_hero__19a3J",companylogo:"Companydetails_companylogo__3MDiK",typetag:"Companydetails_typetag__2OlVK",parent:"Companydetails_parent__28pXE",parenttag:"Companydetails_parenttag__1nQ84",file:"Companydetails_file__2UJ9i",fileicon:"Companydetails_fileicon__3-M_8",filetitle:"Companydetails_filetitle__3KaqA",downloadicon:"Companydetails_downloadicon__1U-ng",eligiblewrapper:"Companydetails_eligiblewrapper__2zcKs",companycontentwrapper:"Companydetails_companycontentwrapper__1ZZrW"}},334:function(e,t,a){"use strict";var n=a(3),l=a(2),r=a(7),c=a.n(r),i=a(0),o=a.n(i),s=a(38),d=a(8),m=a(108),p=Object(s.a)("input-group-text",{Component:"span"}),u=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.size,i=e.className,s=e.as,m=void 0===s?"div":s,p=Object(n.a)(e,["bsPrefix","size","className","as"]);return a=Object(d.a)(a,"input-group"),o.a.createElement(m,Object(l.a)({ref:t},p,{className:c()(i,a,r&&a+"-"+r)}))}));u.displayName="InputGroup";var g=Object(l.a)({},u,{Text:p,Radio:function(e){return o.a.createElement(p,null,o.a.createElement(m.a,Object(l.a)({type:"radio"},e)))},Checkbox:function(e){return o.a.createElement(p,null,o.a.createElement(m.a,Object(l.a)({type:"checkbox"},e)))}});t.a=g},464:function(e,t,a){"use strict";a.r(t);var n=a(6),l=a(20),r=a(50),c=a(51),i=a(334),o=a(115),s=a(0),d=a.n(s),m=a(52),p=a(119),u=a(25),g=a(126),y=a(333),E=a.n(y),v=a(309),f=a(310);t.default=e=>{var t,a;let{match:y}=e;const{params:h}=y,{state:b}=Object(s.useContext)(u.a),[x,_]=Object(s.useState)({}),[w,N]=Object(s.useState)(!0),[S,C]=Object(s.useState)([]),[j,O]=Object(s.useState)(""),[k,z]=Object(s.useState)(),[A,R]=Object(s.useState)(null),[D,q]=Object(s.useState)([]),[B,P]=Object(s.useState)(!0);console.log(D);const[F,T]=Object(s.useState)({loading:!1,success:!1,error:!1}),[I,K]=Object(s.useState)(!1),[U,W]=Object(s.useState)(!1),{showNotification:G}=Object(s.useContext)(g.a),[H,J]=Object(s.useState)([]),[L,M]=Object(s.useState)(!1);const Y=async()=>{T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!0}));try{if(H&&H.length>0){const e=await Promise.all(H.map(e=>{let{file:t,question:a}=e;return async function(e,t){if(!e)return;const a=new FormData;try{a.append("".concat(t),e);const n=await f.b(e);return 200===n.status&&(D.map(e=>{var t;"file"==e.type&&(e.expectedAns=null===n||void 0===n||null===(t=n.data[0])||void 0===t?void 0:t.url)}),!0)}catch(n){return!1}}(t,a)}));if(!e.every(e=>!0===e))return void G("Failed to apply in the company Event")}await m.b.put("/company-events/apply/".concat(h.eventid),{studentID:b.userDetails.student,student_resume:j,Additional_answers:D});K(!0),T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!1,success:!0})),G("Successfully Applied!")}catch(e){T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!1,success:!1,error:!0})),G("Failed to apply in the company Event"),console.log(e)}};if(Object(s.useEffect)(()=>{(async()=>{try{T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!0}));const e=await m.b.get("/company-events/".concat(h.eventid));!0===e.data.is_additional_ques?(R(e.data.additional_ques),q(e.data.additional_ques),P(!1)):(R(null),q(null));const t={};e.data.branchesAllowed.forEach(e=>{const{branch:a,degree:n}=e;n in t?t[n].push(a):t[n]=[a]}),e.data.branchesAllowed=t,_(e.data),T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!1}))}catch(e){console.log(e)}})(),(async()=>{try{const e=await m.b.get("/company-events/is_student_eligible/".concat(h.eventid,"?studentID=").concat(b.userDetails.student));e.data.eligible.conditions.already_applied&&K(!0),e.data.eligible.conditions.already_placed&&W(!0),z(e.data.eligible.conditions),T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!1})),N(e.data.eligible.status)}catch(e){console.log(e)}})(),(async()=>{try{T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!0}));const e=await m.b.get("/students/resumes");C(e.data.resumes),O(e.data.resumes[0].url),T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!1}))}catch(e){console.log(e)}})()},[]),F.loading)return d.a.createElement(p.a,null);const Z=new Date(x.lastDate).getTime()<Date.now();return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:E.a.outerdiv},d.a.createElement("div",{className:E.a.companybar},d.a.createElement("h6",null,x.company?x.company.Name:""," |"," ",x.jobtitle)),d.a.createElement("div",{className:E.a.wrapper},d.a.createElement("div",{className:E.a.contentdiv},d.a.createElement("div",{className:E.a.hero}),d.a.createElement("div",{className:"".concat(E.a.companylogo," d-flex justify-content-center align-items-center")},d.a.createElement("img",{src:"https://tnp-company-logos.s3.ap-south-1.amazonaws.com/".concat((null===(t=x.company)||void 0===t?void 0:t.Name)||"default",".png"),alt:"Keep going!! You'll reach there.",style:{width:"80%"},onError:e=>{e.target.onerror=null,e.target.src="https://upload.wikimedia.org/wikipedia/en/thumb/e/e9/Netaji_Subhas_University_of_Technology.svg/1200px-Netaji_Subhas_University_of_Technology.svg.png"}})),d.a.createElement("div",{className:E.a.companycontentwrapper},d.a.createElement("div",{style:{padding:"30px 0px 0px"}},d.a.createElement("h3",null,x.jobtitle),d.a.createElement("h6",null,x.company?x.company.Name:""),d.a.createElement("div",{className:E.a.typetag},x.type),d.a.createElement("hr",{style:{marginTop:"30px"}})),d.a.createElement("div",{style:{padding:"30px 0"}},d.a.createElement("div",{style:{marginBottom:"30px"}},d.a.createElement("h5",null,"Opening Overview"),d.a.createElement("hr",null)),d.a.createElement("div",null,d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Place of Posting"),d.a.createElement("div",{className:E.a.parentcontent},x.placeOfPosting)),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Batch"),d.a.createElement("div",{className:E.a.parentcontent},x.batch)),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"CTC/Stipend"),d.a.createElement("div",{className:E.a.parentcontent},x.stipend)),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"CTC/Stipend Info."),d.a.createElement("div",{className:E.a.parentcontent},x.stipend_info?x.stipend_info:"Not Mentioned")),("Placement"===x.type||"Internship"===x.type)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"CGPA"),d.a.createElement("div",{className:E.a.parentcontent},x.cgpa)),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Category"),d.a.createElement("div",{className:E.a.parentcontent},null===(a=x.category)||void 0===a?void 0:a.toUpperCase())),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Backlogs"),d.a.createElement("div",{className:E.a.parentcontent},x.backlogs)),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Allowed Branches"),d.a.createElement("div",{className:E.a.parentcontent},Object.entries(x.branchesAllowed).map(e=>{let[t,a]=e;return d.a.createElement("div",{key:t},d.a.createElement("span",{className:"fw-bolder"},t),":"," ",a.join(", "))}))),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Registration last date"),d.a.createElement("div",{className:E.a.parentcontent},Object(v.a)(x.lastDate).toDateString()," ","-",Object(v.a)(x.lastDate).toLocaleTimeString()))),d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Coordinaters"),d.a.createElement("div",{className:E.a.parentcontent,style:{whiteSpace:"pre-line",wordBreak:"break-word",overflowWrap:"break-word",width:"100%"}},null===x||void 0===x?void 0:x.apc)),""!==(null===x||void 0===x?void 0:x.additional_info)&&d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Additional Info"),d.a.createElement("div",{className:E.a.parentcontent},null===x||void 0===x?void 0:x.additional_info)),""!==(null===x||void 0===x?void 0:x.optional_redirect)&&d.a.createElement("div",{className:E.a.parent},d.a.createElement("div",{className:E.a.parenttag},"Form Link"),d.a.createElement("div",{className:E.a.parentcontent},d.a.createElement("a",{href:(null===x||void 0===x?void 0:x.optional_redirect)||"#",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"}},"Click Here"))))),d.a.createElement("div",{style:{padding:"30px 0"}},d.a.createElement("div",{style:{marginBottom:"30px"}},d.a.createElement("h5",null,"Job Description"),d.a.createElement("hr",null)),d.a.createElement("div",{style:{whiteSpace:"pre-line"}},x.description)),d.a.createElement("div",{style:{padding:"30px 0"}},d.a.createElement("div",{style:{marginBottom:"30px"}},d.a.createElement("h5",null,"Attached Documents"),d.a.createElement("hr",null)),d.a.createElement("div",null,x.attachments&&x.attachments.map((e,t)=>d.a.createElement("div",{key:t,className:"".concat(E.a.file," mb-2"),style:{cursor:"pointer"},onClick:()=>window.open("https://docs.google.com/viewerng/viewer?url=".concat(encodeURIComponent(e.url)),"_blank")},d.a.createElement("div",{className:E.a.fileicon},d.a.createElement("img",{src:"/pdf.png",width:"60%",alt:"pdf"})),d.a.createElement("div",{className:E.a.filetitle},e.name),d.a.createElement("div",{className:E.a.downloadicon},d.a.createElement("i",{style:{color:"#1456cf",fontSize:"20px"},className:"bi bi-download"})))))))),d.a.createElement("div",{className:E.a.resumediv},d.a.createElement("div",{style:{padding:"30px 0"}},d.a.createElement("div",{style:{marginBottom:"30px"}},d.a.createElement("h6",null,"Eligibility Criteria Evaluation Result"),d.a.createElement("p",{style:{fontSize:"13px"}},"Evaluated At: ",(new Date).toDateString()),d.a.createElement("hr",null)),d.a.createElement("div",{className:E.a.eligiblewrapper},I&&d.a.createElement("div",{style:{width:"80%"}},d.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold",color:"red"}},"You have already applied for this opportunity.")),U&&d.a.createElement("div",{style:{width:"80%"}},d.a.createElement("p",{style:{fontSize:"16px",display:"flex",fontWeight:"bold",color:"red"}},"You cannot apply for this opportunity because you are already placed.")),(!I||!U)&&d.a.createElement("div",{style:{width:"80%"}},d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.cgpa?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l}),"CGPA Criteria"),d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.batch?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l})," ","Batch Criteria"," "),!0===(null===x||void 0===x?void 0:x.optional_criteria)?d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.percentage_10th?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l})," ","10th Percentage"," "):d.a.createElement("div",null),!0===(null===x||void 0===x?void 0:x.optional_criteria)?d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.percentage_12th?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l})," ","12th Percentage"," "):d.a.createElement("div",null),d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.branch?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l})," ","Branch Criteria"," "),d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.degree?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l})," ","Degree Criteria"," "),d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.backlogs?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l}),"Backlogs Criteria"),d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.ban?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l}),"Ban Criteria"),d.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},k&&!k.gender?d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:l.d}):d.a.createElement(r.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:l.l}),"Gender Criteria")))),d.a.createElement(c.a,null,d.a.createElement(c.a.Group,{className:"mb-3"},!Z&&!I&&w&&(null===A||void 0===A?void 0:A.map(e=>d.a.createElement("div",{key:e.ques,style:{marginBottom:"1rem"}},d.a.createElement(c.a.Label,{style:{color:"black",whiteSpace:"pre-line",wordBreak:"break-word"}},e.ques),"multi"===e.type?d.a.createElement(d.a.Fragment,null,e.options.map((t,a)=>d.a.createElement("div",{key:a,className:"mb-3"},d.a.createElement(c.a.Check,{type:"checkbox",id:"multi-checkbox-".concat(a),label:t,onChange:t=>{const a=t.target.id,n=a[a.length-1],l=t.target.checked;D.forEach(t=>{t.ques===e.ques&&(l?t.expectedAns+=t.options[n]+", ":t.expectedAns=t.expectedAns.replace(t.options[n]+", ",""));const a=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns);P(a)})}})))):"single"===e.type?d.a.createElement(d.a.Fragment,null,e.options.map((t,a)=>d.a.createElement("div",{key:a,className:"mb-3"},d.a.createElement(c.a.Check,{type:"radio",id:"single-radio-".concat(a),label:t,name:e.ques,onChange:t=>{const a=t.target.id,n=a[a.length-1];D.forEach(t=>{t.ques===e.ques&&(t.expectedAns=t.options[n]);const a=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());P(a)})}})))):"file"===e.type?d.a.createElement(c.a.Control,{type:"file",required:!0,accept:".pdf",style:{marginBottom:"1rem"},onChange:t=>{const a=t.target.files[0];if(a){const n=H.filter(t=>t.question!==e.ques);n.push({file:a,question:e.ques}),J(n),D.forEach(a=>{a.ques===e.ques&&(a.expectedAns="https://tnpnsut-files.s3.ap-south-1.amazonaws.com/".concat(t.target.files[0].name));const n=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());P(n)})}}}):d.a.createElement(c.a.Control,{type:"text",required:!0,placeholder:e.expectedAns,style:{marginBottom:"1rem",wordBreak:"break-word",whiteSpace:"pre-line"},onChange:t=>{D.forEach(a=>{a.ques===e.ques&&(a.expectedAns=t.target.value);const n=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());P(n)})}})))),!I&&w&&d.a.createElement(d.a.Fragment,null,d.a.createElement(c.a.Label,{style:{color:"black"}},"Select a Resume"),d.a.createElement(i.a,null,d.a.createElement(i.a.Text,null,d.a.createElement(r.a,{icon:l.i})),d.a.createElement(c.a.Select,{value:j,onChange:e=>{O(e.target.value)}},S&&S.map((e,t)=>d.a.createElement("option",{key:t,value:e.url},e.name)))))),I&&d.a.createElement(o.a,{type:"submit",style:{width:"100%",background:"linear-gradient(to right, #2A2D3E, #202332)",borderColor:"#202332",marginTop:"1rem"},disabled:Z||!I,onClick:e=>(async e=>{e.preventDefault();const t=h.eventid;try{await m.b.post("https://api.tnpnsut.in/registrations/".concat(t),{student_id:b.userDetails.student}).then(e=>{200==e.status?(console.log(e),K(!1),T(e=>Object(n.a)(Object(n.a)({},e),{},{loading:!1,success:!0})),G(null===e||void 0===e?void 0:e.data),window.location.reload()):G(null===e||void 0===e?void 0:e.data)})}catch(a){throw G("Error withdrawing from role!"),a}})(e)},"Withdraw"),!I&&d.a.createElement(o.a,{type:"submit",style:{width:"100%",background:"linear-gradient(to right, #fb7b4a, #ee3344)",borderColor:"#fb7b4a",marginTop:"1rem"},disabled:!B||!w||""===j||Z||I,onClick:()=>Y()},"Apply")),!Z&&!B&&w&&d.a.createElement("p",{style:{color:"red",fontWeight:"bolder"},className:"text-red"},"Please fill the above form to apply"),Z&&d.a.createElement("p",{style:{color:"red"},className:"text-red"},"Registration Date has passed")))))}}}]);
//# sourceMappingURL=13.a8686d55.chunk.js.map