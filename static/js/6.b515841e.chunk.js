(this["webpackJsonptnp-nsut"]=this["webpackJsonptnp-nsut"]||[]).push([[6],{327:function(e,t,a){e.exports=a.p+"static/media/plus-solid.d4055c0a.svg"},412:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){var n={"./General.svg":421,"./Hackathon.svg":422,"./Internship.svg":423,"./Placement.svg":424,"./Shortlist.svg":425,"./Update.svg":426,"./Webinar.svg":427,"./github.svg":428,"./google-tag-manager.svg":429,"./google_analytics.svg":430,"./old_update.svg":431,"./plus-solid.svg":327};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=420},421:function(e,t,a){e.exports=a.p+"static/media/General.21efa377.svg"},422:function(e,t,a){e.exports=a.p+"static/media/Hackathon.ae37a854.svg"},423:function(e,t,a){e.exports=a.p+"static/media/Internship.808d4404.svg"},424:function(e,t,a){e.exports=a.p+"static/media/Placement.c5c9c176.svg"},425:function(e,t,a){e.exports=a.p+"static/media/Shortlist.51564fb5.svg"},426:function(e,t,a){e.exports=a.p+"static/media/Update.82a4a362.svg"},427:function(e,t,a){e.exports=a.p+"static/media/Webinar.e6274850.svg"},428:function(e,t,a){e.exports=a.p+"static/media/github.34119f98.svg"},429:function(e,t,a){e.exports=a.p+"static/media/google-tag-manager.68bcd58c.svg"},430:function(e,t,a){e.exports=a.p+"static/media/google_analytics.95a87f80.svg"},431:function(e,t,a){e.exports=a.p+"static/media/old_update.1adfd22f.svg"},477:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),o=a(115),c=a(299),l=a(116),s=a(68),d=a(52),m=a(326),u=a.n(m);a(412);var g=e=>{let{htmlText:t}=e;return r.a.createElement("div",{className:"html-text",dangerouslySetInnerHTML:{__html:u.a.sanitize(t)}})},p=a(413),f=(a(417),a(12)),v=a(119);a(418),a(419);var h=function(e){let{type:t}=e;return r.a.createElement("img",{src:a(420)("./".concat(t,".svg")),alt:"icon",style:{width:"80%",height:"80%"}})},b=a(25);const x="BELqxt1OA-x3CSPf2TMWA5vdZAljkYU3oNeQfY5SmT5uZm0N1LxGv_s6SU_O26z4nDQAtbCq4N-TZgbXyaOqb2M";function y(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(t),n=new Uint8Array(a.length),r=0;r<a.length;++r)n[r]=a.charCodeAt(r);return n}var E=()=>{const{state:{profileData:e}}=Object(n.useContext)(b.a),t=null===e||void 0===e?void 0:e.degree,m=null===e||void 0===e?void 0:e.campus,u=null===e||void 0===e?void 0:e.batch,E=null===e||void 0===e?void 0:e.id,[w,_]=Object(n.useState)(0);Object(n.useEffect)(()=>{(async()=>{if("serviceWorker"in navigator&&"PushManager"in window)try{const e=await navigator.serviceWorker.register("./service-worker.js",{scope:"/"});let a=!(null===await e.pushManager.getSubscription());if(a)console.log("User is already subscribed.");else{!async function(e,t,a,n){await d.b.post("/notifications",{Batch:t,notify:e,student:a,degree:n})}(await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:y(x)}),u,E,t),a=!0}}catch(e){console.error("Failed to register Service Worker or subscribe user:",e)}})()},[x,u]);const[S,k]=Object(n.useState)({loading:!1,data:[],error:null}),[O,N]=Object(n.useState)(!0),[j,C]=Object(n.useState)(!0),T={Placement:"#5b7cf3",Internship:"#2cc972",Update:"#77d1e8",Webinar:"#ffc111",Hackathon:"#8e5bf3"},A=Object(f.g)();Object(n.useEffect)(()=>{U()},[]);const U=async()=>{k(Object(i.a)(Object(i.a)({},S),{},{loading:!0}));try{const e=(await d.b.get("/announcements?_sort=createdAt:desc&batch=".concat(u,"&_where[0][degrees_allowed_contains]=").concat(t,"&campus=").concat(m,"&_start=").concat(w,"&_limit=").concat(12))).data,a=S.data;e.length<12&&N(!1),e.map(e=>a.push(e)),k({loading:!1,data:a,error:null}),_(w+12),C(!1)}catch(e){k({loading:!1,data:[],error:e}),C(!1),console.log(e)}};return S.error?r.a.createElement("div",null,r.a.createElement("h1",null,"Error in fetching notifications.")):j?r.a.createElement(v.a,null):r.a.createElement("div",null,function(){if(S.data)return r.a.createElement(r.a.Fragment,null,0!==S.data.length&&r.a.createElement(p.VerticalTimeline,{animate:!1,layout:"1-column-left"},S.data.map((e,t)=>r.a.createElement(p.VerticalTimelineElement,{contentArrowStyle:{display:"none"},contentStyle:{background:"transparent",boxShadow:"0px 4px 8px -2px rgba(16, 24, 40, 0.1), 0px 2px 4px -2px rgba(16, 24, 40, 0.06)",transform:"translateY(-5px)",padding:"15px",borderRadius:"8px"},onTimelineElementClick:()=>A.push("/"===e.redirect_url?"/companies/".concat(e.event_id):e.redirect_url),icon:r.a.createElement(h,{type:e.event_type}),iconStyle:{backgroundColor:T[e.event_type||"Update"],display:"flex",justifyContent:"center",alignItems:"center",width:"35px",height:"35px",borderRadius:"50%"},key:t},r.a.createElement(c.a,{className:"bg-transparent",style:{cursor:"pointer",overflowX:"hidden",borderRadius:"8px",background:"#fff"}},r.a.createElement(c.a.Body,{className:"p-0"},r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:5,className:"d-flex align-items-center"},r.a.createElement("div",{className:"image bg-black rounded-circle d-flex justify-content-center align-items-center",style:{height:"50px",width:"50px",marginRight:"10px",overflow:"hidden"}},r.a.createElement("div",{className:"text-logo",style:{color:"white",fontSize:"1.8rem",fontWeight:"bolder"}},e.for.split(" ").length>1?e.for.split(" ")[0].substring(0,1)+e.for.split(" ")[1].substring(0,1):e.for.split(" ")[0].substring(0,1))),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("h5",{style:{margin:"0",fontSize:"1.1rem"}},e.title),r.a.createElement("h6",{style:{color:"#6f7274",marginTop:"4px"}},e.for))),r.a.createElement(s.a,{sm:7,className:"d-flex flex-column align-items-start"},"Placement"==e.event_type||"Internship"==e.event_type?r.a.createElement(g,{htmlText:e.content}):r.a.createElement("div",null,"Click to read more"),r.a.createElement("div",{className:"d-flex w-100 justify-content-between mt-2"},r.a.createElement("p",{style:{margin:"0px",fontWeight:"700",fontSize:"0.9rem"}},new Date(e.createdAt).toString().slice(0,15),","," ",new Date(e.createdAt).toString().slice(16,21)),r.a.createElement("div",{className:"tag border rounded px-2 py-1 ".concat(e.event_type||"Update"),style:{backgroundColor:"#f0f0f0",fontWeight:"bold",fontSize:"0.8rem",width:"6rem",textAlign:"center"}},e.event_type||"Update")))))))),O&&r.a.createElement(p.VerticalTimelineElement,{icon:r.a.createElement("img",{src:a(327),alt:"load_more",style:{width:"100%",height:"100%"}}),iconOnClick:U,iconStyle:{cursor:"pointer",backgroundColor:"#e44e72",width:"50px",height:"50px",borderRadius:"50%"}})))}(),function(){if(S.loading)return r.a.createElement(v.a,null)}(),function(){if(O)return r.a.createElement("div",{className:"d-flex justify-content-center mb-4"},r.a.createElement(o.a,{className:"view_more",variant:"dark",disabled:S.loading,onClick:U},S.loading?r.a.createElement(v.a,null):"View More"))}())},w=a(58),_=a.n(w);"Notification"in window&&Notification.requestPermission().then(e=>{"denied"===e&&_.a.error("Allow notification in site setting to stay updated!")});t.default=()=>{const{state:e}=Object(n.useContext)(b.a),{isLoading:t}=e;return Object(n.useEffect)(()=>{var t;!0===(null===e||void 0===e||null===(t=e.profileData)||void 0===t?void 0:t.banStatus)&&_.a.error("You are banned from this platform. Please contact the admin.")},[]),t?r.a.createElement(v.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.Toaster,{position:"top-right",reverseOrder:!1}),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center flex-column w-80 mt-3 bg-white"},r.a.createElement("div",{className:"w-100",style:{paddingTop:"10px",paddingBottom:"10px"}},r.a.createElement(E,null))))}}}]);
//# sourceMappingURL=6.b515841e.chunk.js.map